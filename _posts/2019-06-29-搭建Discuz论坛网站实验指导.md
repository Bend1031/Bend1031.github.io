---
layout:     post
title: 搭建 Discuz 论坛网站实验指导
subtitle: 基础知识部分
date: 2019-06-29
author: Bend
header-img: img/post-bg-huaweicloud.png
catalog: true
tags:
    - Discuz 论坛
    - 云服务器
---

>在六月的结尾补上一篇，为期三周的考试周终于结束啦，接下来又是两周的金工实习，撑住！
>
>因为参加了华为云的一个活动，顺势就写了这么一篇文章

# 实验目的

-   了解华为云服务虚拟私有云 VPC， 弹性云服务器 ECS 以及弹性公网 IP 
-   使用 Linux 命令在服务器上搭建数据库和 Web 环境 
-   学习如何部署安装网站以及网站的整体架构 

# 背景知识

## 1. 虚拟私有云 VPC (Virtual Private Cloud)

### 简介

虚拟私有云（Virtual Private Cloud，以下简称 VPC），为弹性云服务器构建**隔离**的、用户自主配置和管理的**虚拟网络环境**，提升用户云上资源的安全性，简化用户的网络部署。

可以在 VPC 中定义安全组、VPN、IP 地址段、带宽等网络特性。用户可以通过 VPC 方便地管理、配置内部网络，进行安全、快捷的网络变更。同时，用户可以自定义安全组内与组间弹性云服务器的访问规则，加强弹性云服务器的安全保护。

***解释***：一个虚拟的自主管理的网络环境，可以理解为自己建了一个房子，别人都不知道，自己的房子自己自定义。

![](https://raw.githubusercontent.com/Bend1031/PictureBed/master/img/20190629160244.png)

在一个 VPC 中有多个组成部分：

### 弹性云服务器 ECS （Elastic Cloud Server）

弹性云服务器是由 CPU、内存、镜像、云硬盘组成的一种可随时获取、弹性可扩展的计算服务器，同时它结合虚拟私有云、虚拟防火墙、数据多副本保存等能力。

***解释*** :ECS 本质上就是服务器（可以理解为电脑）。但是以往如果你买电脑，只能买一个内存，CPU 等各种规格已经确定的，但是 ECS 是云服务器商为你提供的动态解决方案。你觉得内存太小了，可以申请加内存，服务商会为你分配更大的内存。随时随地动态调整。

### ECS 产品架构（优点）

通过和其他产品、服务组合，弹性云服务器可以实现计算、存储、网络、镜像安装等功能：

-   弹性云服务器在不同可用区中部署（可用区之间通过内网连接），一个可用区发生故障后不会影响同一区域内的其它可用区。

-   可以通过虚拟私有云建立专属的网络环境，设置子网、安全组，并通过弹性公网 IP 实现外网链接（需带宽支持）。

-   通过镜像服务，可以对弹性云服务器安装镜像，也可以通过私有镜像批量创建弹性云服务器，实现快速的业务部署。

-   通过云硬盘服务实现数据存储，并通过云硬盘备份服务实现数据的备份和恢复。

![](https://raw.githubusercontent.com/Bend1031/PictureBed/master/img/20190629162719.png)

### 安全组

安全组是一个逻辑上的分组，为同一个 VPC 内**具有相同安全保护**需求并**相互信任**的弹性云服务器提供访问策略。安全组创建后，用户可以在安全组中定义各种访问规则，当弹性云服务器加入该安全组后，即受到这些访问规则的保护。

系统会为每个用户默认创建一个默认安全组，默认安全组的规则是在出方向上的数据报文全部放行，入方向访问受限，安全组内的弹性云服务器无需添加规则即可互相访问。

**优先级**：多个规则冲突，取其并集生效。

***解释*** ：定义了一些出入的规则来保护弹性服务器 ECS（坏人不能进我家，熟人可以来）。

### 子网

子网是 VPC 内的 IP 地址块，VPC 中的所有云产品都必须部署在子网内。

子网是管理 ECS 网络的一个网络，提供 IP 管理、 DHCP 、DNS 服务。

### 网络 ACL （Access Control List）访问控制列表

网络 ACL 是一个子网级别的可选**安全层**，通过与子网关联的出方向 / 入方向规则控制出入子网的数据流。

### 安全组与网络 ACL 区别

目的相同：通过配置网络 ACL 和安全组策略，保障 VPC 内的弹性云服务器安全使用。

防护对象不同：

-   安全组对弹性云服务器进行防护。

-   网络 ACL 对子网进行防护。

## 2. 弹性公网 IP 简介

弹性公网 IP（Elastic IP，简称 EIP）提供独立的公网 IP 资源，包括公网 IP 地址与公网出口带宽服务。可以与弹性云服务器、裸金属服务器、虚拟 IP、弹性负载均衡、NAT 网关等资源灵活地绑定及解绑。

**一个弹性公网 IP 只能绑定一个云资源使用。**

***解释*** ： 为你的服务器提供连接互联网服务。

## 3. VPC 配置流程

![](https://raw.githubusercontent.com/Bend1031/PictureBed/master/img/20190629172800.png)

具体的搭建过程将在实践部分介绍。